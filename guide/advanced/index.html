


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.1.7">
    
    
      
        <title>Advanced Usage - Roblox Requests</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4c7052ca.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.b79bcd20.min.css">
      
      
        
        
        <meta name="theme-color" content="#4caf50">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="green" data-md-color-accent="green">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Roblox Requests" class="md-header-nav__button md-logo" aria-label="Roblox Requests">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Roblox Requests
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Advanced Usage
            
          </span>
        </div>
      
    </div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/jpatrickdill/roblox-requests/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jpatrickdill/roblox-requests
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Roblox Requests" class="md-nav__button md-logo" aria-label="Roblox Requests">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Roblox Requests
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/jpatrickdill/roblox-requests/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    jpatrickdill/roblox-requests
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Guide
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quickstart" class="md-nav__link">
      Quickstart
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Advanced Usage
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Advanced Usage" class="md-nav__link md-nav__link--active">
      Advanced Usage
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#session-objects" class="md-nav__link">
    Session Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-objects" class="md-nav__link">
    Request Objects
  </a>
  
    <nav class="md-nav" aria-label="Request Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asynchronous-requests" class="md-nav__link">
    Asynchronous Requests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rate-limiting" class="md-nav__link">
    Rate-limiting
  </a>
  
    <nav class="md-nav" aria-label="Rate-limiting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#session-rate-limits" class="md-nav__link">
    Session rate-limits
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../api-reference/" title="API Reference" class="md-nav__link">
      API Reference
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#session-objects" class="md-nav__link">
    Session Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#request-objects" class="md-nav__link">
    Request Objects
  </a>
  
    <nav class="md-nav" aria-label="Request Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asynchronous-requests" class="md-nav__link">
    Asynchronous Requests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rate-limiting" class="md-nav__link">
    Rate-limiting
  </a>
  
    <nav class="md-nav" aria-label="Rate-limiting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#session-rate-limits" class="md-nav__link">
    Session rate-limits
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jpatrickdill/roblox-requests/edit/master/docs/guide/advanced.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="advanced-usage">Advanced Usage</h1>
<p>This page covers some more advanced features of Roblox Requests.</p>
<h2 id="session-objects">Session Objects</h2>
<p>The Session object allows you to persist certain data across requests.
It also persists cookies across all requests made from the Session instance.</p>
<p>A Session object has all the same methods of the main Requests API.</p>
<p>Persisting cookies across requests:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">session</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">Session</span><span class="p">()</span>

<span class="n">session</span><span class="p">.</span><span class="n">cookies</span><span class="p">:</span><span class="n">insert</span><span class="p">(</span><span class="s2">&quot;sessioncookie&quot;</span><span class="p">,</span> <span class="s2">&quot;123456789&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">domain</span><span class="o">=</span><span class="s2">&quot;httpbin.org&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;/cookies&quot;</span><span class="p">})</span>  <span class="c1">-- add new cookie to httpbin.org/cookies</span>
<span class="kd">local</span> <span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="p">:</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/cookies&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
<span class="c1">-- {&quot;cookies&quot;: {&quot;sessioncookie&quot;: &quot;123456789&quot;}}</span>

<span class="nb">print</span><span class="p">(</span><span class="n">session</span><span class="p">:</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/&quot;</span><span class="p">).</span><span class="n">content</span><span class="p">)</span>  <span class="c1">-- cookies will only be sent to their set path</span>
<span class="c1">-- {&quot;cookies&quot;: {}}</span>
</code></pre></div>


<p>Sessions can also be used to provide default data to requests.</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">session</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">session</span><span class="p">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">[</span><span class="s2">&quot;X-Test&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="c1">-- both &quot;x-test&quot; and &quot;x-test2&quot; are sent</span>
<span class="n">session</span><span class="p">:</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/headers&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">headers</span><span class="o">=</span><span class="p">{[</span><span class="s2">&quot;X-Test2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span><span class="p">}</span> <span class="p">})</span>
</code></pre></div>


<p>Additional headers can also be merged with the current headers:</p>
<div class="codehilite"><pre><span></span><code><span class="n">session</span><span class="p">:</span><span class="n">set_headers</span><span class="p">({</span>
    <span class="p">[</span><span class="s2">&quot;x-third&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span>
<span class="p">})</span>  
<span class="c1">-- session.headers now contains both &quot;X-Test&quot; and &quot;x-third&quot;</span>
</code></pre></div>


<p>Any options that you pass to a request method will be merged with the session-level values.
Method-level parameters override session parameters.</p>
<p>However, method-level parameters aren't persisted across requests, even if
using a session. This example will only send cookies with the first request:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">session</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">Session</span><span class="p">()</span>

<span class="kd">local</span> <span class="n">r</span> <span class="o">=</span> <span class="n">session</span><span class="p">:</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/cookies&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">cookies</span><span class="o">=</span><span class="p">{[</span><span class="s2">&quot;temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span><span class="p">}</span> <span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
<span class="c1">-- {&quot;cookies&quot;: {&quot;temp&quot;: &quot;value&quot;}}</span>

<span class="kd">local</span> <span class="n">r2</span> <span class="o">=</span> <span class="n">session</span><span class="p">:</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/cookies&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">r2</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
<span class="c1">-- {&quot;cookies&quot;: {}}</span>
</code></pre></div>


<h2 id="request-objects">Request Objects</h2>
<p>When you send a request with the <code>http.get()</code> method, a <code>Request</code> object is actually created and
prepared with any data you passed. In some cases, you may wish to do something extra
with the request before it is sent. This is possible by creating the Request directly:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">request</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">Request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/post&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span> <span class="p">})</span>

<span class="n">request</span><span class="p">:</span><span class="n">set_data</span><span class="p">(</span><span class="s2">&quot;use this body instead&quot;</span><span class="p">)</span>

<span class="kd">local</span> <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="p">:</span><span class="n">send</span><span class="p">()</span>
</code></pre></div>


<p>The same is possible from a session by using <code>Session:Request()</code>.</p>
<h3 id="asynchronous-requests">Asynchronous Requests</h3>
<p>When handling <code>Request</code> objects directly, you can send them in a separate thread by specifying a callback:</p>
<div class="codehilite"><pre><span></span><code><span class="kr">function</span> <span class="nf">cb</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>
    <span class="c1">-- do stuff</span>
<span class="kr">end</span>

<span class="kd">local</span> <span class="n">request</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">Request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="s2">&quot;https://httpbin.org/post&quot;</span><span class="p">)</span>
<span class="n">request</span><span class="p">:</span><span class="n">send</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span>

<span class="c1">-- continue executing without waiting for response</span>
</code></pre></div>


<h2 id="rate-limiting">Rate-limiting</h2>
<p>Roblox Requests ratelimits all HTTP requests sent through the module. If a request would tip the ratelimit past 500
requests/minute, Requests will issue a warning and retry in 5 seconds.</p>
<p>By default, the rate-limiter allows 250 requests every 30 seconds, smoothing bursts over a 1 minute period.
You can change these settings with <code>http.set_ratelimit</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">http</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="n">ReplicatedStorage</span><span class="p">.</span><span class="n">http</span><span class="p">)</span>

<span class="n">http</span><span class="p">.</span><span class="n">set_ratelimit</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>  <span class="c1">-- allow 10 requests every 60 seconds</span>
</code></pre></div>


<p>In order for these changes to apply, <code>set_ratelimit</code> <strong>must</strong> be called before any HTTP requests are sent.</p>
<p>If you'd like a request to ignore the rate-limit, just set the <code>ignore_ratelimit</code> option to <code>true</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kr">if</span> <span class="n">custom_ratelimit_function</span><span class="p">()</span> <span class="kr">then</span>
    <span class="n">http</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">ignore_ratelimit</span><span class="o">=</span><span class="kc">true</span> <span class="p">})</span>
<span class="kr">end</span>
</code></pre></div>


<p>You can also disable a session's rate-limits by setting the <code>ignore_ratelimit</code> property:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">session</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">Session</span><span class="p">()</span>

<span class="n">session</span><span class="p">.</span><span class="n">ignore_ratelimit</span> <span class="o">=</span> <span class="kc">true</span>

<span class="c1">-- let&#39;s break roblox!</span>
<span class="kr">while</span> <span class="n">wait</span><span class="p">()</span> <span class="kr">do</span>
    <span class="n">session</span><span class="p">:</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/get&quot;</span><span class="p">)</span>
<span class="kr">end</span>
</code></pre></div>


<p>It's recommended that you only do this if you're applying some other limiting function.</p>
<h3 id="session-rate-limits">Session rate-limits</h3>
<p>If you want to make a specific session follow a different rate-limit, you can set one:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">local</span> <span class="n">session</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="n">Session</span><span class="p">()</span>

<span class="n">session</span><span class="p">:</span><span class="n">set_ratelimit</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>  <span class="c1">-- 10 requests/minute</span>

<span class="kd">local</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="kr">while</span> <span class="n">wait</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="kr">do</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="n">http</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/get&quot;</span><span class="p">)</span>  <span class="c1">-- module level requests still follow normal rate-limit</span>

    <span class="kr">if</span> <span class="n">i</span><span class="o">%</span><span class="mi">6</span> <span class="o">==</span> <span class="mi">0</span> <span class="kr">then</span>  <span class="c1">-- only send every 6 seconds (10/min)</span>
        <span class="n">session</span><span class="p">:</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://httpbin.org/get&quot;</span><span class="p">)</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</code></pre></div>


<p>Unlike the global rate-limiter, this one can be changed any time you like by calling <code>:set_ratelimit()</code>.
It can also be removed by calling <code>:disable_ratelimit()</code>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../quickstart/" title="Quickstart" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quickstart
              </div>
            </div>
          </a>
        
        
          <a href="../../api-reference/" title="API Reference" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                API Reference
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.22b62ea4.min.js"></script>
      <script src="../../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.f6ebf1dc.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>